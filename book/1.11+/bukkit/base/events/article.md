# События

События - это то же, что случается с нами в повседневной жизни, но только в minecraft и мы можем предотвратить это событие.

Чтобы отменить событие нужно прописать в методе с событием `e.setCancelled(true);` Если хотим проверить, отменено ли событие, то пропишем `e.isCancelled()` что вернёт нам true или false.

Для начала создадим класс `EventsHandler`:

```Java
public class EventsHandler implements Listener
{
    @EventHandler
    public void onBreak(BlockBreakEvent e)
    {
        Player player = e.getPlayer();

        /** Если блок который мы ломаем "Земля", то отменяем событие и выводим сообщение */
        if(e.getBlock().getType() == Material.DIRT)
        {
            e.setCancelled(true);
            player.sendMessage("Блок запривачен!");
        }
    }

    @EventHandler
    public void onInteract(PlayerInteractEvent e)
    {
        Player player = e.getPlayer();

		/** Если тип блока на который мы нажали "Песок" ты выводим сообщение. */
        if(e.getClickedBlock().getType() == Material.SAND)
        {
            player.sendMessage(ChatColor.YELLOW.BOLD + "Это песок!");
        }
    }
}
```

Основной класс готов. Теперь нам нужно зарегистрировать наши события. Перейдём в главный класс и в методе `onEnable` пропишем такой код:
```Java
/** EventsHandler это наш класс, this указывает на то, что это главный класс. В противном случаи нужно прописать TuTPlugin.instance(), но об этом позднее. */
Bukkit.getServer().getPluginManager().registerEvents(new EventsHandler(), this);
```

# Таблица всех событий

## Блоки
---

| Событие                  | Описание                                                                                |
|--------------------------|-----------------------------------------------------------------------------------------|
| BlockBreakEvent          | Срабатывает когда игрок сломал блок.                                                    |
| BlockBurnEvent           | Срабатывает когда блок сгорел.                                                          |
| BlockCanBuildEvent       | Срабатывает когда блок ставится.                                                        |
| BlockDamageEvent         | Срабатывает когда блок повреждён игроком.                                               |
| BlockDispenseEvent       | Срабатывает когда из блока, что-то вытащили.                                            |
| BlockExpEvent            | Срабатывает когда блок дал опыт.                                                        |
| BlockExplodeEvent        | Срабатывает когда блок взрывается/взорвался.                                            |
| BlockFadeEvent           | Срабатывает когда блок исчез/растаял.                                                   |
| BlockFormEvent           | Срабатывает когда блок формируется.                                                     |
| BlockFromToEvent         | Срабатывает когда жидкость/поршень/яйцо дракона перемещается.                           |
| BlockGrowEvent           | Срабатывает когда блок вырастает/растёт.                                                |
| BlockIgniteEvent         | Срабатывает когда блок поджигается.                                                     |
| BlockMultiPlaceEvent     | Срабатывает когда блок был поставлен. Формирует дополнительные блоки. (пример: кровать) |
| BlockPhysicsEvent        | Срабатывает когда на блоке применяется физика. (пример: песок, гравий, бетон)           |
| BlockPistonEvent         | Срабатывает когда поршень активируется.                                                 |
| BlockPistonExtendEvent   | Срабатывает когда поршень "расширяется".                                                |
| BlockPistonRetractEvent  | Срабатывает когда поршень задвигается.                                                  |
| BlockPlaceEvent          | Срабатывает когда игрок поставил блок.                                                  |
| BlockRedstoneEvent       | Срабатывает когда красный камень изменяется.                                            |
| BlockSpreadEvent         | Срабатывает когда блок распространяется. (пример: гриб, огонь)                          |
| CauldronLevelChangeEvent | Срабатывает когда уровень воды в котле изменяется.                                      |
| EntityBlockFormEvent     | Срабатывает когда блок поставила сущность. (пример: житель в деревне посадил морковь)   |
| LeavesDecayEvent         | Срабатывает когда листья "опадают".                                                     |
| NotePlayEvent            | Срабатывает когда нотный блок используется игроком или активирован красным камнем.      |
| SignChangeEvent          | Срабатывает когда игрок изменяет табличку.                                              |

## Чары
---

| Событие                 | Описание                                                                                     |
|-------------------------|----------------------------------------------------------------------------------------------|
| EnchantItemEvent        | Срабатывает когда предмет был зачарован.                                                     |
| PrepareItemEnchantEvent | Срабатывает когда ItemStack вставляется в стол зачарования. Может быть вызван несколько раз. |

## Сущность
---

| Событие                       | Описание                                                                                          |
|-------------------------------|---------------------------------------------------------------------------------------------------|
| AreaEffectCloudApplyEvent     | Срабатывает когда затяжное зелье применяет эффект. Срабатывает раз в 5 тиков!                     |
| CreatureSpawnEvent            | Срабатывает когда сущность спавнится в мире.                                                      |
| CreeperPowerEvent             | Срабатывает когда крипера ударила молния.                                                         |
| EnderDragonChangePhaseEvent   | Срабатывает когда меняется контроллер фазы эндер дракона.                                         |
| EntityAirChangeEvent          | Срабатывает когда количество воздуха у сущности меняется.                                         |
| EntityBreakDoorEvent          | Срабатывает когда сущность ломает дверь.                                                          |
| EntityBreedEvent              | Срабатывает когда одна порода сущности спаривается с другой.                                      |
| EntityChangeBlockEvent        | Срабатывает когда сущность изменяет блок. Не игрок!                                               |
| EntityCombustByBlockEvent     | Срабатывает когда блок поджигает сущность.                                                        |
| EntityCombustByEntityEvent    | Срабатывает когда сущность поджигает другую сущность.                                             |
| EntityCombustEvent            | Срабатывает когда сущность сгорает.                                                               |
| EntityCreatePortalEvent       | Срабатывает когда сущность создаёт портал в мире.                                                 |
| EntityDamageByBlockEvent      | Срабатывает когда сущность наносит урон блоку.                                                    |
| EntityDamageByEntityEvent     | Срабатывает когда сущность наносит урон другой сущности.                                          |
| EntityDeathEvent              | Срабатывает когда сущность погибает.                                                              |
| EntityExplodeEvent            | Срабатывает когда сущность взрывается.                                                            |
| EntityInteractEvent           | Срабатывает когда сущность взаимодействует с объектом.                                            |
| EntityPortalEnterEvent        | Срабатывает когда сущность вступает в контакт с порталом.                                         |
| EntityPortalEvent             | Срабатывает когда сущность собирается телепортироваться через портал.                             |
| EntityPortalExitEvent         | Срабатывает когда сущность выходит из портала.                                                    |
| EntityResurrectEvent          | Срабатывает когда сущность погибает и имеет возможность воскреснуть.                              |
| EntityShootBowEvent           | Срабатывает когда сущность стреляет из лука.                                                      |
| EntityTameEvent               | Срабатывает когда сущность приручается.                                                           |
| EntityTargetEvent             | Срабатывает когда сущность целится на другую сущность.                                            |
| EntityTargetLivingEntityEvent | Срабатывает когда сущность целится на другую сущность типа LivingEntity                           |
| EntityTeleportEvent           | Срабатывает когда сущность пытается телепортироваться из одного места в другое. Не игрок!         |
| EntityToggleGlideEvent        | Срабатывает когда переключается режим "скольжения" с надкрыльями.                                 |
| EntityUnleashEvent            | Срабатывает когда сущность была "отвязана". (Пример: поводок порвался)                            |
| ExpBottleEvent                | Срабатывает когда пузырёк опыта разбивается и создаёт опыт.                                       |
| ExplosionPrimeEvent           | Срабатывает когда сущность решила взорваться. (Пример: крипер подошёл к игроку, чтобы взорваться) |
| FireworkExplodeEvent          | Срабатывает когда фейерверк взрывается.                                                           |
| FoodLevelChangeEvent          | Срабатывает когда у игрока изменяется уровень голода.                                             |
| HorseJumpEvent                | Срабатывает когда лошадь прыгает.                                                                 |
| ItemDespawnEvent              | Срабатывает когда выброшенный предмет был удалён в мире спустя 5 минут.                           |
| ItemMergeEvent                | Срабатывает когда предмет перемещается в мире.                                                    |
| LingeringPotionSplashEvent    | Срабатывает когда затяжное зелье взрывается при контакте с объектом.                              |
| PlayerDeathEvent              | Срабатывает когда игрок погиб.                                                                    |
| PlayerLeashEntityEvent        | Срабатывает когда игрок привязал сущность на поводок.                                             |
| PotionSplashEvent             | Срабатывает когда взрывное зелье взрывается при контакте с объектом.                              |
| ProjectileHitEvent            | Срабатывает когда снаряд наносит урон.                                                            |
| ProjectileLaunchEvent         | Срабатывает когда снаряд был выпущен.                                                             |
| SheepDyeWoolEvent             | Срабатывает когда шерсть овцы была окрашена.                                                      |
| SheepRegrowWoolEvent          | Срабатывает когда шерсть на овце восстановилась.                                                  |
| SlimeSplitEvent               | Срабатывает когда слизень распадается на маленькие слизни.                                        |
| VillagerAcquireTradeEvent     | Срабатывает когда житель получает новую профессию.                                                |
| VillagerReplenishTradeEvent   | Срабатывает когда житель достигает максимум при продаже.                                          |

## Висящий блок(Только картина и рамка!)
---

| Событие                   | Описание                                                  |
|---------------------------|-----------------------------------------------------------|
| HangingBreakByEntityEvent | Срабатывает когда картина/рамка была разрушена сущностью. |
| HangingBreakEvent         | Срабатывает когда картина/рамка была разрушена.           |
| HangingPlaceEvent         | Срабатывает когда картина/рамка была установлена.         |

## Инвентарь
---

| Событие                  | Описание                                                                                                 |
|--------------------------|----------------------------------------------------------------------------------------------------------|
| BrewEvent                | Срабатывает когда варочная стойка закончила варить зелье(-я)                                             |
| BrewingStandFuelEvent    | Срабатывает когда уровень топлива в варочной стойке поднимается.                                         |
| CraftItemEvent           | Срабатывает когда рецепт предмета был завершён.                                                          |
| FurnaceBurnEvent         | Срабатывает когда предмет успешно сгорает как топливо в печи.                                            |
| FurnaceExtractEvent      | Срабатывает когда игрок забирает предметы из печи.                                                       |
| FurnaceSmeltEvent        | Срабатывает когда предмет успешно выплавляется в печи.                                                   |
| InventoryClickEvent      | Срабатывает когда игрок нажимает на слот в инвентаре.                                                    |
| InventoryCloseEvent      | Срабатывает когда игрок закрывает инвентарь.                                                             |
| InventoryCreativeEvent   | Срабатывает когда игрок будучи в творческом режиме берёт или кладёт предметы в инвентарь.                |
| InventoryDragEvent       | Срабатывает когда игрок перетаскивает предметы мышкой в инвентаре.                                       |
| InventoryInteractEvent   | Срабатывает когда игрок взаимодействует с инвентарём.                                                    |
| InventoryMoveItemEvent   | Срабатывает когда сущности или блоки перемещают предметы из одного инвентаря в другой. (Пример: воронка) |
| InventoryOpenEvent       | Срабатывает когда инвентарь открыт.                                                                      |
| InventoryPickupItemEvent | Срабатывает когда воронка или вагонетка с воронкой поднимает предмет с земли.                            |
| PrepareAnvilEvent        | Срабатывает когда предмет был помещён в слот для ремонта.                                                |
| PrepareItemCraftEvent    | Срабатывает когда предмет был помещён в слот для крафта.                                                 |

## Игрок
---

| Событие                         | Описание                                                                                                                     |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------|
| AsyncPlayerChatEvent            | Срабатывает когда игрок написал в чат(асинхронно) и когда сервер принудил игрока написать(синхронно). Замена PlayerChatEvent |
| PlayerAdvancementDoneEvent      | Срабатывает когда игрок выполняет все критерии для продвижения.                                                              |
| PlayerArmorStandManipulateEvent | Срабатывает когда игрок взаимодействует со стойкой для брони.                                                                |
| PlayerBedEnterEvent             | Срабатывает когда игрок ложится на кровать.                                                                                  |
| PlayerBedLeaveEvent             | Срабатывает когда игрок встаёт с кровати.                                                                                    |
| PlayerBucketEmptyEvent          | Срабатывает когда игрок опустошает ведро.                                                                                    |
| PlayerBucketEvent               | Срабатывает когда игрок взаимодействует ведром.                                                                              |
| PlayerBucketFillEvent           | Срабатывает когда игрок заполняет ведро.                                                                                     |
| PlayerChangedMainHandEvent      | Срабатывает когда игрок меняет основную руку в настройках игры.                                                              |
| PlayerChangedWorldEvent         | Срабатывает когда игрок переходит в другой мир.                                                                              |
| PlayerChannelEvent              | Срабатывает когда игрок регистрируется в канале нового плагина.                                                              |
| PlayerChatTabCompleteEvent      | Срабатывает когда игрок использует TAB для завершения слова.                                                                 |
| PlayerCommandPreprocessEvent    | Срабатывает когда игрок выполняет команду.                                                                                   |
| PlayerDropItemEvent             | Срабатывает когда игрок выбрасывает предмет из инвентаря.                                                                    |
| PlayerEditBookEvent             | Срабатывает когда игрок игрок изменяет книгу или записывает её или табличку.                                                 |
| PlayerEggThrowEvent             | Срабатывает когда игрок кидает куриное яйцо.                                                                                 |
| PlayerExpChangeEvent            | Срабатывает когда уровень опыта у игрока изменяется.                                                                         |
| PlayerFishEvent                 | Срабатывает когда игрок ловит рыбу.                                                                                          |
| PlayerGameModeChangeEvent       | Срабатывает когда режим игры у игрока меняется.                                                                              |
| PlayerInteractAtEntityEvent     | Срабатывает когда игрок взаимодействует с сущностью, которая хранит в себе координаты предыдущего взаимодействия.            |
| PlayerInteractEntityEvent       | Срабатывает когда игрок взаимодействует с сущностью. (Пример: ставит седло, просто кликнул на сущность)                      |
| PlayerInteractEvent             | Срабатывает когда игрок взаимодействует с чем либо.                                                                          |
| PlayerItemBreakEvent            | Срабатывает когда игрок ломает предмет. (Пример: лопата или огниво)                                                          |
| PlayerItemConsumeEvent          | Срабатывает когда игрок потребляет предмет. (Пример: еда, ведро молока, зелья)                                               |
| PlayerItemHeldEvent             | Срабатывает когда игрок меняет текущий предмет в руке.                                                                       |
| PlayerJoinEvent                 | Срабатывает когда игрок заходит на сервер.                                                                                   |
| PlayerKickEvent                 | Срабатывает когда игрока выкинуло с сервера.                                                                                 |
| PlayerLevelChangeEvent          | Срабатывает когда уровень игрока изменяется.                                                                                 |
| PlayerPickupArrowEvent          | Срабатывает когда игрок поднимает стрелу.                                                                                    |
| PlayerPickupItemEvent           | Срабатывает когда игрок поднимает предмет.                                                                                   |
| PlayerPortalEvent               | Срабатывает когда игрок собирается телепортироваться через портал.                                                           |
| PlayerQuitEvent                 | Срабатывает когда игрок выход с сервера.                                                                                     |
| PlayerRegisterChannelEvent      | Срабатывает когда игрок регистрируется в канале плагина.                                                                     |
| PlayerResourcePackStatusEvent   | Срабатывает когда игрок выбирает, что сделать по запросу о ресурспаке.                                                       |
| PlayerRespawnEvent              | Срабатывает когда игрок возрождается.                                                                                        |
| PlayerShearEntityEvent          | Срабатывает когда игрок подстригает сущность.                                                                                |
| PlayerStatisticIncrementEvent   | Срабатывает когда статистика игрока увеличивается.                                                                           |
| PlayerSwapHandItemsEvent        | Срабатывает когда игрок переключает руку с основной на дополнительною, с использованием кнопки смены руки.                   |
| PlayerToggleFlightEvent         | Срабатывает когда игрок меняет режим полёта.                                                                                 |
| PlayerToggleSneakEvent          | Срабатывает когда игрок приседает/крадётся.                                                                                  |
| PlayerToggleSprintEvent         | Срабатывает когда игрок переключается с бега на спринт.                                                                      |
| PlayerUnleashEntityEvent        | Срабатывает когда игрок отвязывает от поводка сущность.                                                                      |
| PlayerUnregisterChannelEvent    | Срабатывает когда игрок разрегистрируется в канале плагина.                                                                  |
| PlayerVelocityEvent             | Срабатывает когда скорость игрока изменяется.                                                                                |

## Сервер
---

| Событие                  | Описание                                                 |
|--------------------------|----------------------------------------------------------|
| MapInitializeEvent       | Срабатывает когда карта инициализировалась.              |
| PluginDisableEvent       | Срабатывает когда плагин отключен.                       |
| PluginEnableEvent        | Срабатывает когда плагин включен.                        |
| RemoteServerCommandEvent | Срабатывает когда команда идёт за RCON данными.          |
| ServerCommandEvent       | Срабатывает когда команда введена через консоль.         |
| ServerListPingEvent      | Срабатывает когда в список серверов отправляется пинг.   |
| ServiceRegisterEvent     | Срабатывает когда служба зарегистрирована.               |
| ServiceUnregisterEvent   | Срабатывает когда служба не зарегистрирована.            |
| TabCompleteEvent         | Срабатывает когда игроком (или в консоли) нажимается TAB |

## Транспорт
---

| Событие                     | Описание                                              |
|-----------------------------|-------------------------------------------------------|
| VehicleBlockCollisionEvent  | Срабатывает когда транспорт сталкивается с блоком.    |
| VehicleCollisionEvent       | Срабатывает когда транспорт сталкивается.             |
| VehicleCreateEvent          | Срабатывает когда транспорт создан.                   |
| VehicleDamageEvent          | Срабатывает когда транспорт получает урон.            |
| VehicleDestroyEvent         | Срабатывает когда транспорт уничтожен.                |
| VehicleEnterEvent           | Срабатывает когда сущность села в транспорт.          |
| VehicleEntityCollisionEvent | Срабатывает когда транспорт сталкивается с сущностью. |
| VehicleExitEvent            | Срабатывает когда сущность вышла из транспорта.       |
| VehicleMoveEvent            | Срабатывает когда транспорт движется.                 |
| VehicleUpdateEvent          | Срабатывает когда транспорт обновился.                |

## Погода
---

| Событие              | Описание                                   |
|----------------------|--------------------------------------------|
| LightningStrikeEvent | Хранит данные для удара молнии.            |
| ThunderChangeEvent   | Хранит данные для изменения грозы в мире.  |
| WeatherChangeEvent   | Хранит данные для изменения погоды в мире. |

## Мир
---

| Событие            | Описание                                                           |
|--------------------|--------------------------------------------------------------------|
| ChunkLoadEvent     | Срабатывает когда чанк загружается.                                |
| ChunkPopulateEvent | Срабатывает когда чанк закончил заполнение.                        |
| ChunkUnloadEvent   | Срабатывает когда чанк выгрузился.                                 |
| PortalCreateEvent  | Срабатывает когда портал создан.                                   |
| SpawnChangeEvent   | Срабатывает когда место спавна в мире изменяться.                  |
| StructureGrowEvent | Срабатывает когда структура вырастает. (пример: саженец -> дерево) |
| WorldInitEvent     | Срабатывает когда мир инициализировался.                           |
| WorldLoadEvent     | Срабатывает когда мир загрузился.                                  |
| WorldSaveEvent     | Срабатывает когда мир сохранился.                                  |
| WorldUnloadEvent   | Срабатывает когда мир выгрузился.                                  |
