# События

События - это то же, что случается с нами в повседневной жизни, но только в minecraft и мы можем предотвратить это событие.

Чтобы отменить событие нужно прописать в методе с событием e.setCancelled(true); Если хотим проверить, отменено ли событие то пропишем e.isCancelled() что вернёт нам true или false.

Для начала создадим класс EventsHandler:

```Java
public class EventsHandler implements Listener
{
    @EventHandler
    /** Данное событие сработает при ломании блока. */
    public void onBreak(BlockBreakEvent e)
    {
        Player player = e.getPlayer();

        /** Если блок который мы ломаем "Земля", то отменяем событие и выводим сообщение */
        if(e.getBlock().getType() == Material.DIRT)
        {
            e.setCancelled(true);
            player.sendMessage("Блок запривачен!");
        }
    }

    @EventHandler
    /** Данное событие сработает при взаимодействии с блоком */
    public void onInteract(PlayerInteractEvent e)
    {
        Player player = e.getPlayer();

		/** Если тип блока на который мы нажали "Песок" ты выводим сообщение. */
        if(e.getClickedBlock().getType() == Material.SAND)
        {
            player.sendMessage(ChatColor.YELLOW.BOLD + "Это песок!");
        }
    }
}
```

Основной класс готов. Теперь нам нужно зарегистрировать наши события. Перейдём в главный класс и в методе onEnable пропишем такой код:
```Java
/** EventsHandler это наш класс, this указывает на то, что это главный класс. В противном случаи нужно прописать TuTPlugin.instance(), но об этом позднее. */
Bukkit.getServer().getPluginManager().registerEvents(new EventsHandler(), this);
```

## Таблица всех событий

### Блоки

| Событие                  | Описание                                                                                |
|--------------------------|-----------------------------------------------------------------------------------------|
| BlockBreakEvent          | Срабатывает когда игрок сломал блок.                                                    |
| BlockBurnEvent           | Срабатывает когда блок сгорел.                                                          |
| BlockCanBuildEvent       | Срабатывает когда блок ставится.                                                        |
| BlockDamageEvent         | Срабатывает когда блок повреждён игроком.                                               |
| BlockDispenseEvent       | Срабатывает когда из блока, что-то вытащили.                                            |
| BlockExpEvent            | Срабатывает когда блок дал опыт.                                                        |
| BlockExplodeEvent        | Срабатывает когда блок взрывается/взорвался.                                            |
| BlockFadeEvent           | Срабатывает когда блок исчез/растаял.                                                   |
| BlockFormEvent           | Срабатывает когда блок формируется.                                                     |
| BlockFromToEvent         | Срабатывает когда жидкость/поршень/яйцо дракона перемещается.                           |
| BlockGrowEvent           | Срабатывает когда блок вырастает/растёт.                                                |
| BlockIgniteEvent         | Срабатывает когда блок поджигается.                                                     |
| BlockMultiPlaceEvent     | Срабатывает когда блок был поставлен. Формирует дополнительные блоки. (пример: кровать) |
| BlockPhysicsEvent        | Срабатывает когда на блоке применяется физика. (пример: песок, гравий, бетон)           |
| BlockPistonEvent         | Срабатывает когда поршень активируется.                                                 |
| BlockPistonExtendEvent   | Срабатывает когда поршень "расширяется".                                                |
| BlockPistonRetractEvent  | Срабатывает когда поршень задвигается.                                                  |
| BlockPlaceEvent          | Срабатывает когда игрок поставил блок.                                                  |
| BlockRedstoneEvent       | Срабатывает когда красный камень изменяется.                                            |
| BlockSpreadEvent         | Срабатывает когда блок распространяется. (пример: гриб, огонь)                          |
| CauldronLevelChangeEvent | Срабатывает когда уровень воды в котле изменяется.                                      |
| EntityBlockFormEvent     | Срабатывает когда блок поставила сущность. (пример: житель в деревне посадил морковь)   |
| LeavesDecayEvent         | Срабатывает когда листья "опадают".                                                     |
| NotePlayEvent            | Срабатывает когда нотный блок используется игроком или активирован красным камнем.      |
| SignChangeEvent          | Срабатывает когда игрок изменяет табличку.                                              |

### Чары

| Событие                 | Описание                                                                                     |
|-------------------------|----------------------------------------------------------------------------------------------|
| EnchantItemEvent        | Срабатывает когда предмет был зачарован.                                                     |
| PrepareItemEnchantEvent | Срабатывает когда ItemStack вставляется в стол зачарования. Может быть вызван несколько раз. |

### Сущность

Cooming Soon...

### Висящий блок(Только картина и рамка!)

| Событие                   | Описание                                                  |
|---------------------------|-----------------------------------------------------------|
| HangingBreakByEntityEvent | Срабатывает когда картина/рамка была разрушена сущностью. |
| HangingBreakEvent         | Срабатывает когда картина/рамка была разрушена.           |
| HangingPlaceEvent         | Срабатывает когда картина/рамка была установлена.         |

### Инвентарь

Cooming Soon...

### Игрок

Cooming Soon...

### Сервер

| Событие                  | Описание                                                 |
|--------------------------|----------------------------------------------------------|
| MapInitializeEvent       | Срабатывает когда карта инициализировалась.              |
| PluginDisableEvent       | Срабатывает когда плагин отключен.                       |
| PluginEnableEvent        | Срабатывает когда плагин включен.                        |
| RemoteServerCommandEvent | Срабатывает когда команда идёт за RCON данными.          |
| ServerCommandEvent       | Срабатывает когда команда введена через консоль.         |
| ServerListPingEvent      | Срабатывает когда в список серверов отправляется пинг.   |
| ServiceRegisterEvent     | Срабатывает когда служба зарегистрирована.               |
| ServiceUnregisterEvent   | Срабатывает когда служба не зарегистрирована.            |
| TabCompleteEvent         | Срабатывает когда игроком (или в консоли) нажимается TAB |

### Транспорт

| Событие                     | Описание                                              |
|-----------------------------|-------------------------------------------------------|
| VehicleBlockCollisionEvent  | Срабатывает когда транспорт сталкивается с блоком.    |
| VehicleCollisionEvent       | Срабатывает когда транспорт сталкивается.             |
| VehicleCreateEvent          | Срабатывает когда транспорт создан.                   |
| VehicleDamageEvent          | Срабатывает когда транспорт получает урон.            |
| VehicleDestroyEvent         | Срабатывает когда транспорт уничтожен.                |
| VehicleEnterEvent           | Срабатывает когда сущность села в транспорт.          |
| VehicleEntityCollisionEvent | Срабатывает когда транспорт сталкивается с сущностью. |
| VehicleExitEvent            | Срабатывает когда сущность вышла из транспорта.       |
| VehicleMoveEvent            | Срабатывает когда транспорт движется.                 |
| VehicleUpdateEvent          | Срабатывает когда транспорт обновился.                |

### Погода

| Событие              | Описание                                   |
|----------------------|--------------------------------------------|
| LightningStrikeEvent | Хранит данные для удара молнии.            |
| ThunderChangeEvent   | Хранит данные для изменения грозы в мире.  |
| WeatherChangeEvent   | Хранит данные для изменения погоды в мире. |

### Мир

| Событие            | Описание                                                           |
|--------------------|--------------------------------------------------------------------|
| ChunkLoadEvent     | Срабатывает когда чанк загружается.                                |
| ChunkPopulateEvent | Срабатывает когда чанк закончил заполнение.                        |
| ChunkUnloadEvent   | Срабатывает когда чанк выгрузился.                                 |
| PortalCreateEvent  | Срабатывает когда портал создан.                                   |
| SpawnChangeEvent   | Срабатывает когда место спавна в мире изменяться.                  |
| StructureGrowEvent | Срабатывает когда структура вырастает. (пример: саженец -> дерево) |
| WorldInitEvent     | Срабатывает когда мир инициализировался.                           |
| WorldLoadEvent     | Срабатывает когда мир загрузился.                                  |
| WorldSaveEvent     | Срабатывает когда мир сохранился.                                  |
| WorldUnloadEvent   | Срабатывает когда мир выгрузился.                                  |
